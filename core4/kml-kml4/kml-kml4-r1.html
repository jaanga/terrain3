<!doctype html>
<html lang=en >
<head>
<meta charset=utf-8 >
<title>Elevations Core3 KML R3</title>
<meta name=viewport content='width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no' >
<meta name=description content='Core three.js' >
<meta name=keywords content='WebGL,Three.js,JavaScript,GitHub,FOSS,3D,STEM' >
<meta name=date content='2016-10-17' >
</head>
<body>
<!--
<script src=https://mrdoob.github.io/three.js/build/three.min.js ></script>
<script src=https://mrdoob.github.io/three.js/examples/js/controls/OrbitControls.js ></script>
<script src=https://mrdoob.github.io/three.js/examples/js/libs/stats.min.js ></script>
-->
<script src=https://rawgit.com/mrdoob/three.js/dev/build/three.min.js ></script>
<script src=https://rawgit.com/mrdoob/three.js/dev/examples/js/controls/OrbitControls.js ></script>
<script src=https://rawgit.com/mrdoob/three.js/dev/examples/js/libs/stats.min.js ></script>
<script src=https://rawgit.com/spite/THREE.MeshLine/master/src/THREE.MeshLine.js ></script>

<script src=../../core4/0-def-defaults4/def-defaults4-r1.js ></script>
<script src=../../core4/0-cor-core4/cor-core4-r1.js ></script>
<script src=../../core4/0-sel-select4/sel-select4-r1.js ></script>
<script src=../../core4/ovr-overlay4/ovr-overlay4-r1.js ></script>
<script src=../../core4/ter-terrain4/ter-terrain4-r1.js ></script>
<script src=../../core4/thr-threejs4/thr-threejs4-r1.js ></script>
<script src=../../core4/map-map4/map-map4-r1.js ></script>
<script src=../../core4/pla-placard4/pla-placard4-r1.js ></script>
<script src=../../core4/msh-mesh-lines4/msh-mesh-lines4-r1.js ></script>
<script src=../../core4/kml-kml4/kml-kml4-r1.js ></script>

<!--
<script src=../../google-maps-api3/f-elv-elevations/elevations-r1.js ></script>
<script src=http://jaanga.github.io/terrain3/google-maps-api3/f-elv-elevations/elevations-r1.js ></script>
-->
<script>

	SEL.urlAPITreeContents = 'https://api.github.com/repos/jaanga/terrain3/git/trees/gh-pages?recursive=1';

//	SEL.defaultFile = '../../elevations-data/elevations-data-04/san-francisco_10_163_394_3_3_450_450_.json';
	SEL.defaultFile; // if no default, select a random file

	SEL.searchInFolder = 'elevations-data-path-json/';
//	SEL.extension = '.json';

	SEL.urlBase = '../../elevations-data/';
//	SEL.urlBase = 'https://jaanga.github.io/terrain3/elevations-data/' + SEL.searchInFolder;

	init();



	THR.animate();

	function init() {

//		COR.taglineHeader = 'Howdy!' + b;

		COR.initLeftMenu();

		COR.menu.innerHTML =

			COR.getMenuDetailsHeader() +

			SEL.getMenuDetailsSelectFile() +

			KML.getMenuDetailsKML() +

			OVR.getMenuDetailsOverlay() + b +

			TER.getMenuDetailsTerrain() + b +

			COR.getMenuDetailsObjectProperties() +

			COR.getMenuDetailsAbout() +

			COR.getMenuFooter() +

		b;

		if ( window.self !== window.top ) { hamburger.style.left = '0px'; }

		SELdetailsSelectFile.setAttribute( 'open', 'open' );

		KMLdetailsKML.setAttribute( 'open', 'open' );

		OVRdetailsOverlay.setAttribute('open', 'open');

		OVRdetailsOverlayParameters.setAttribute('open', 'open');

		TERdetailsTerrain.setAttribute('open', 'open');

		TERdetailsTerrainParameters.setAttribute( 'open', 'open' );


		SEL.getGitHubAPITreeContents();

		THR.moreThreejsInits = function() {

//			THR.renderer.setClearColor( COR.defaults.backgroundColor );
			THR.updateCamera = true;

			THR.axisHelper = new THREE.AxisHelper( 50 );
			THR.scene.add( THR.axisHelper );

			THR.controls.maxDistance = 10 * THR.radius;

		};

		THR.getThreeJS();

		THR.renderer.domElement.addEventListener( 'onload', THR.moreThreejsInits(), false );

	}



	SEL.onLoadJSONFile = function() {

		COR.getPlaceDefaults();

		OVR.setMenuDetailsOverlay();

		MAP.initMapGeometry();

		KML.drawPath();

	}

</script>
</body>
</html>
