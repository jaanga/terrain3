<!doctype html>
<html lang=en >
<head>
<meta charset=utf-8 >
<title>Elevations Get2 Select R1</title>
<meta name=viewport content='width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no' >
<meta name=description content='Core use GitHuB API to get file names and folders from GitHub Server. A remote LS or DIR service.' >
<meta name=keywords content='cartography,maps,Jaanga,GitHub API,CSS,HTML,JavaScript,GitHub,FOSS' >
<meta name=date content='2016-10-02' >
</head>
<body>
<!--
<script src=https://cdnjs.cloudflare.com/ajax/libs/showdown/1.4.3/showdown.min.js ></script>
-->
<script src=../../elevations-get2/0-def-defaults2/def-defaults2-r1.js ></script>
<script src=../../elevations-get2/1-cor-core2/cor-core2-r1.js ></script>
<script src=../../elevations-get2/2-sel-select2/sel-select2-r1.js ></script>
<script src=../../elevations-get2/3-api-map-api2/api-map-api2-r1.js ></script>
<script>

// add user and branch

	SEL.folders = [
		'elevations-airports-01',
		'elevations-data-04',
		'elevations-data-family+friends',
		'elevations-data-oakland-gran-fondo',
		'elevations-data-path-json',
		'elevations-data-tgif',
		'test'
	];

	SEL.defaultFolder = 1;

	SEL.urlAPITreeContents = 'https://api.github.com/repos/jaanga/terrain3/git/trees/gh-pages?recursive=1';

//	SEL.defaultFile = '../../elevations-data/elevations-data-04/san-francisco_10_163_394_3_3_450_450_.json';
	SEL.defaultFile; // if no default, select a random file

//	SEL.searchInFolder = 'elevations-data-04/';
	SEL.searchInFolder = SEL.folders[ SEL.defaultFolder ];

	SEL.extension = '.json';

	SEL.urlBase = '../../elevations-data/';
//	SEL.urlBase = 'https://jaanga.github.io/terrain3/elevations-data/' + SEL.searchInFolder;


	init();

	function init() {

		COR.taglineHeader = 'Select a file!' + b;

		COR.initLeftMenu();

		COR.menu.innerHTML =

			COR.getMenuDetailsHeader() +

			API.getMenuDetailsAPIKey() +

			SEL.getMenuDetailsSelectFile() +

			API.getMenuDetailsMapClick() +

			COR.getMenuDetailsObjectProperties( COR.defaults ) +

			COR.getMenuDetailsTemplate() +

			COR.getMenuDetailsAbout() +

			COR.getMenuFooter() +

		b;

		SELdetailsSelectFile.setAttribute('open', 'open');

		APIclickDetails.setAttribute('open', 'open');

		if ( window.self !== window.top ) { hamburger.style.left = '0px'; }

		SEL.getGitHubAPITreeContents();

		COR.getPlaceDefaults();

		API.onEventAPIKeyUpdate();

	}


	SEL.onLoadJSONFile = function( xhr ) {

		COR.getPlaceDefaults();

console.log( 'file loaded', SEL.fileName );

		API.setCenter( COR.place.latitude, COR.place.longitude, true )

	}


</script>
</body>
</html>