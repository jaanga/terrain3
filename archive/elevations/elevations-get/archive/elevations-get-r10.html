<!doctype html>
<html lang=en >
<head>
<meta charset=utf-8 >
<title>Elevations Get R10</title>
<meta name=viewport content='width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no' >
<meta name=description content='Obtains elevation data via the Google Maps API Elevation service.
Set latitude, longitude, zoom level, number of tiles and samples. Save data to text file.
Display results in 3D. Display useful info.
' >
<meta name=keywords content='Google Maps API,CSS,HTML,JavaScript,GitHub,FOSS' >
<meta name=date content='2016-08-11' >
</head>
<body>
<!-- add your Google Map API key to end of this source ~ yyyy?key=xxxxxxxx 
<script src=https://maps.googleapis.com/maps/api/js?libraries=places ></script>
-->

<script src=elevations-get-r10.js ></script>
<script>

	var kmlLeig = 'https://jaanga.github.io/terrain3/google-api/data-kml/LEIG-L1500-01.kml';
	var kmlVhsk = 'https://jaanga.github.io/terrain3/google-api/data-kml/VHSK-22-01.kml';

	var kmlSnowMountainActual = 'https://jaanga.github.io/terrain3/google-api/data-kml/Snow_Mountain_Actual.kml';
	var kmlSnowMountainWilderness = 'https://jaanga.github.io/terrain3/google-api/data-kml/Snow_Mountain_Wilderness.kml';

	var b = '<br>';

	init();

	function init() {

		var css, hamburger, menu, contents;

		css = document.body.appendChild( document.createElement('style') );
		css.innerHTML =

			'html { height: 100%; }' +
			'body { font: 12pt monospace; height: 100%; margin: 0; }' +
			'h2, h3 { margin: 0; }' +
			'a { color: crimson; text-decoration: none; }' +
			'button, input[type=button] { background-color: #ccc; border: 2px #fff solid; color: #322; }' +
			'iframe { background-color: white; border: 0px; height: 100%; margin-top: 0px; width: 100%; }' +
			'input[type=range] { -webkit-appearance: none; -moz-appearance: none; background-color: #ddd; width: 160px; }' +
			'input[type=range]::-moz-range-thumb { background-color: #888; border-radius: 0; width: 10px; }' +
			'input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; background-color: #888; height: 20px; width: 10px; }' +
			'p { margin: 0 0 5px 0; }' +

			'summary h3, summary h4 { display:inline; }' +
			'summary { outline: none; }' +

			'#bars { background-color: #eee; color: crimson; cursor: pointer; font-size: 24pt; text-decoration: none; }' +

			'#hamburger { left: 325px; position: absolute; top: 20px; transition: left 1s; }' +
			'#menu { background-color: #eee; border: 1px #ccc solid; left: -325px; max-height: ' + ( window.innerHeight - 10 ) + 'px; ' +
				'opacity: 0.85; overflow: auto; padding: 0 10px; position: absolute; top: -20px; transition: left 1s; width: 300px; }' +

			'#txtElevations { min-height: 50px; width: 100%; }' +
			'#txtPath { min-height: 60px; width: 100%; }' +

			'#threejs { background-color: #ccc; border: 2px solid #888; height: 80%; min-width: 70%;' +
				'overflow: hidden; left: 350px; position: absolute; resize: none; top: 100px; }' +
			'#threejsHeader { text-align: right; }' +

			'#mapDiv { height: 100%; text-align: center; }' +

		'';

//		contents = document.body.appendChild( document.createElement( 'div' ) );
//		contents.id = 'contents';
//		contents.innerHTML = 'contents';

		mapDiv = document.body.appendChild( document.createElement( 'div' ) );
		mapDiv.id = 'mapDiv';

		threejs = document.body.appendChild( document.createElement( 'div' ) );
		threejs.id = 'threejs';

		hamburger = document.body.appendChild( document.createElement( 'div' ) );
		hamburger.id = 'hamburger';
		hamburger.innerHTML = '<div id=bars title="Click this hamburger to slide the menu" > &#9776 </div>';
		bars.onclick = function() { hamburger.style.left = hamburger.style.left === "0px" ? "325px" : 0; };

		menu = hamburger.appendChild( document.createElement( 'div' ) );
		menu.id = 'menu';
		menu.innerHTML =

			'<h2>' +
				'<a href=https://jaanga.github.io/ title="Jaanga - your 3D happy place" > &#x2766 </a>' + b +
				'<a href="" title="Click here to refresh this page" >' + document.title + '</a> ~ ' +
				'<a href=index.html#readme.md title="Click here for help and information" > &#x24D8; </a>' +
			'</h2>' +

			'<p><a href="../elevations-view/index.html" >Elevations View</a></p>' +

			'<div id=menuDetailsAPIKey ></div>' +

			'<div id=menuDetailsGeocoder ></div>' +

			'<div >' +
				'<details open >' +
					'<summary><h4>click details</h4></summary>' +
					'<small id=menuClickMessage >When you click on the screen, details will appear here.</small>' +
					'<div id=menuClickDetails></div>' +
				'</details>' +

			'</div>' +

			'<hr>' +

			'<details open>' +
				'<summary><h3>elevations</h3></summary>' +
				'<small id=menuElevationsMessage >Request data from the Google Maps API</small>' +
				'<p>' +
					'<button onclick=setElevations(); >Get Elevations</button> &nbsp; ' +
					'<button onclick=saveFile(); >Save File</button>' +
				'</p>' +

				'<textarea id=txtElevations >Elevation data appears here as it arrives. When complete a 3D model is generated and displayed.</textarea>' +

				'<div  >' +

					'<details >' +
						'<summary><h4>open elevations file</h4></summary>' +
						'<input type=file id=inpFile onchange=openFile(this,"elevations"); >' +
						'<div id=menuOpenFileElevations >When you open an elevations file, details will appear here</div>' +
					'</details>' +

				'</div>' +

				'<div id=menuElevations >' +

					'<details >' +
						'<summary><h4>elevations details</h4></summary>' +
						'<div>When you click \'get elevations\', details will appear here</div>' +
					'</details>' +

				'</div>' +

			'</details >' +

			'<hr>' +

			'<details open >' +
				'<summary><h3>path data</h3></summary>' +

				'<p><a href=# onclick=openKML(kmlLeig); >Open LEIG KML</a></p>' +
				'<p><a href=# onclick=openKML(kmlVhsk); >VHSK KML</a></p>' +
				'<p><a href=# onclick=openKML(kmlSnowMountainActual); >Snow Mountain Actual KML</a></p>' +
				'<p><a href=# onclick=openKML(kmlSnowMountainWilderness); >Sbow Mountain Wilderness KML</a></p>' +

				'<small>Open path file and draw it on map</small>' +
				'<p><input type=file id=inpFile onchange=openFile(this,"path"); ></p>' +
				'<div>' +
					'<textarea id=txtPath >' +
						'Open a flight path data CSV file to view its path on the map. ' +
						'If location is remote, press \'go there\' when it appears. ' +
						'You may load multiple paths.' +
					'</textarea>' +
				'</div>' +

				'<div id=menuOpenFile ></div>' +

				'<div id=menuPathBoundaries >' +
					'<details>' +
					'<summary><h4>path boundaries</h4></summary>' +
					'<small>When you open a path file, its boundary details appear here</small>' +
				'</div>' +

			'</details>' +

			'<hr>' +

			'<small>Information on current map</small>' +

			'<div id=menuDetailsCenterTileData ></div>' +

			'<div id=menuDetailsTilesData ></div>' +

			'<div id=menuDetailsCenterTileImage ></div>' +

			'<hr>' +

			'<details>' +
				'<summary><h3>about</h3></summary>' +
				'<p>Copyright &copy; 2016 Jaanga authors. MIT license.</p>' +
				'<p>Thank you <a href=https://developers.google.com/maps/documentation/javascript/elevation > Google Maps </a></p>' +
				'<p>Click the \'i in a circle\' info icon for more <a href=href=index.html#readme.md >help</a></p>' +
			'</details>' +

			'<hr>' +

			'<center><a href=javascript:menu.scrollTop=0; style=text-decoration:none; title="Hi there!" ><h1> &#x2766 <h1></a></center>' +

		'';

		initMapGetMenu();

		onHashChange();

	}

	function openKML( url ) {

		layer = new google.maps.KmlLayer({

			url: url,
			map: googleMap

		});


	}

</script>
</body>
</html>
