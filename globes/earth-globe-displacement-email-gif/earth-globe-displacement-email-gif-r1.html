<!doctype html>
<html lang=en >
<head>
<meta charset=utf-8 >
<title>Terrain3 Earth Globe Displacement Email GIF R1</title>
<meta name=viewport content='width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no' >
<meta name=description content='Core three.js' >
<meta name=keywords content='WebGL,Three.js,JavaScript,GitHub,FOSS,3D,STEM' >
<meta name=date content='2016-10-06' >
</head>
<body>
<!--
<script src=https://mrdoob.github.io/three.js/build/three.min.js ></script>
<script src=https://mrdoob.github.io/three.js/examples/js/controls/OrbitControls.js ></script>
<script src=https://mrdoob.github.io/three.js/examples/js/libs/stats.min.js ></script>
-->

<script src=https://rawgit.com/mrdoob/three.js/dev/build/three.min.js ></script>
<script src=https://rawgit.com/mrdoob/three.js/dev/examples/js/controls/OrbitControls.js ></script>
<script src=https://rawgit.com/mrdoob/three.js/dev/examples/js/libs/stats.min.js ></script>

<script src=https://rawgit.com/spite/ccapture.js/dev/build/CCapture.all.min.js ></script>

<script src=../../core4/0-def-defaults4/def-defaults4-r1.js ></script>
<script src=../../core4/0-cor-core4/cor-core4-r1.js ></script>
<script src=../../core4/thr-threejs4/thr-threejs4-r1.js ></script>
<script src=../../core4/pla-placard4/pla-placard4-r3.js ></script>
<script src=../../globes/earth-globe-displacement-email-gif/earth-globe-displacement-email-gif-r1.js ></script>


<script>

	DEF.menuHeaderTagline = 

		'<div><small>' +
			'Generate animated GIFs' + b +
			'with messages that go around the world' + b +
		'</small></div>';

	function derek() {

		draw3DMessage( ' Hello Derek :-' );

		draw3DMessage( ' You raised my interest. So you get R2 of my eMail 3D app, ;-) ', 250, 120, 7800, 3.2, 1 );

		draw3DMessage( ' This release adds color and bendy 3D text. ', 200, 100, 7500, 3.3, 1.2 );

		draw3DMessage( 'And much, much bigger file sizes. ', 2, 100, 7500, 3.5, 1.4 );

		draw3DMessage( ' My animated GIFs suck at 3D messaging. ', 220, 170, 7500, 3.5, 1.6 );

		draw3DMessage( 'Does Orange propose a better way? ', 80, 30, 7500, 3.5, 1.8 );


		draw3DMessage( ' Sorry to bother you.' , 150, 20, 7800, 0, 1.1 );

		draw3DMessage( ' Let me know if VR PowerPoint is the way to go  ', 30, 170, 7800, 0.3, 1.3 );

		draw3DMessage( ' warm regards  ', 40, 100, 7800, 0.5, 1.5 );

		draw3DMessage( ' Theo  ', 70, 140, 7800, 0.7, 1.75 );

	}



	function aceit() {

		draw3DMessage( ' Hello Everbody :-' );

		draw3DMessage( ' Here\'s Realease 2 of a 3D eMail app, ;-) ', 250, 120, 7800, 3.2, 1 );

		draw3DMessage( ' This release adds color and bendy 3D text. ', 200, 100, 7500, 3.3, 1.2 );

		draw3DMessage( 'And much, much bigger file sizes. ', 2, 100, 7500, 3.5, 1.4 );

		draw3DMessage( ' My animated GIFs suck at 3D messaging. ', 220, 170, 7500, 3.5, 1.6 );

		draw3DMessage( ' It\'s a work-in-progess ', 80, 30, 7500, 3.5, 1.8 );


		draw3DMessage( ' The question is: ' , 150, 20, 7800, 0, 1.1 );

		draw3DMessage( ' How will we message in 3D in the future? ', 30, 170, 7800, 0.3, 1.3 );

		draw3DMessage( ' ox ox  ', 40, 100, 7800, 0.5, 1.5 );

		draw3DMessage( ' Daddy /Theo  ', 70, 140, 7800, 0.7, 1.75 );

	}


	function jaanga() {

		draw3DMessage( ' Hello Jaanga peeps' );

		draw3DMessage( ' Here\'s Realease 2 of a 3D eMail app, ;-) ', 250, 120, 7800, 3.2, 1 );

		draw3DMessage( ' This release adds color and bendy 3D text. ', 200, 100, 7500, 3.3, 1.2 );

		draw3DMessage( 'And much, much bigger file sizes. ', 2, 100, 7500, 3.5, 1.4 );

		draw3DMessage( ' My animated GIFs fail at 3D messaging. ', 220, 170, 7500, 3.5, 1.6 );

		draw3DMessage( ' It\'s a work-in-progess ', 80, 30, 7500, 3.5, 1.8 );


		draw3DMessage( ' The question is: ' , 150, 20, 7800, 0, 1.1 );

		draw3DMessage( ' How will we message in 3D in the future? ', 30, 170, 7800, 0.3, 1.3 );

		draw3DMessage( ' Any thoughts', 40, 100, 7800, 0.5, 1.5 );

		draw3DMessage( ' Theo  ', 70, 140, 7800, 0.7, 1.75 );

	}


	function artGithubIo() {

		draw3DMessage( ' Hello Sun lovers' );

		draw3DMessage( ' Here\'s Realease 2 of a 3D eMail app, ;-) ', 250, 120, 7800, 3.2, 1 );

		draw3DMessage( ' This release adds color and bendy 3D text. ', 200, 100, 7500, 3.3, 1.2 );

		draw3DMessage( 'And much, much bigger file sizes. ', 2, 100, 7500, 3.5, 1.4 );

		draw3DMessage( ' My animated GIFs fail at 3D messaging. ', 220, 170, 7500, 3.5, 1.6 );

		draw3DMessage( ' It\'s a work-in-progess ', 80, 30, 7500, 3.5, 1.8 );


		draw3DMessage( ' The question is: ' , 150, 20, 7800, 0, 1.1 );

		draw3DMessage( ' How will we message in 3D in the future? ', 30, 170, 7800, 0.3, 1.3 );

		draw3DMessage( ' Any thoughts', 40, 100, 7800, 0.5, 1.5 );

		draw3DMessage( ' Theo  ', 70, 140, 7800, 0.7, 1.75 );

	}




	var messages = {

		test: [

				{ text: [ 'Hello, world!', 'From Null Island', 'Lat: 0, Lon 0' ], lat: 0, lon: 0 },
				{ text: [ 'San Francisco', 'line2', 'line3' ], lat: 37.796, lon: -122.398 },
				{ text: [ 'Hong Kong', 'line2', 'line3' ], lat: 22.3964, lon: 114.1095 }

			],

		derek: [

				{ text: [ 'Hello Derek!', 'RE: Your message on', 'PowerPoints in VR' ], lat: 0, lon: 0 },
				{ text: [ 'Doing 2D in 3D -','very 2015. Too easy.' ], lat: 25.7617, lon: -80.1918 },
				{ text: [ 'Built this in 2 hours', 'just to show you...' ], lat: 37, lon: -122 },
				{ text: [ 'Fancy cars don\'t','help bad drivers.', 'Ditto presentation tools' ], lat: 21.3069, lon: -157.8583 },
				{ text: [ 'Do keep pitching ideas!', 'warm regards & joi gin,', 'Theo' ], lat: 22.3964, lon: 114.1095 }

			],

		aceit: [

				{ text: [ 'Hello Everybody!', 'My new mantra:', 'Everything 3D!' ], lat: 0, lon: 0 },
				{ text: [ 'Even sending messages','by email' ], lat: 25.7617, lon: -80.1918 },
				{ text: [ 'Email has no 3D', 'But it supports', 'animated GIFs' ], lat: 37, lon: -122 },
				{ text: [ '256 colors only','Animation = millions of colors', 'So compress to grays only' ], lat: 21.3069, lon: -157.8583 },
				{ text: [ 'What cool new things can we do?!', 'ox ox,', 'Daddy / Theo' ], lat: 22.3964, lon: 114.1095 }

			],

		paul: [

				{ text: [ 'Hello Paul!', 'My new mantra:', 'Everything 3D!' ], lat: 0, lon: 0 },
				{ text: [ 'Even sending messages','by email' ], lat: 25.7617, lon: -80.1918 },
				{ text: [ 'Email has no 3D', 'But it supports', 'animated GIFs' ], lat: 37, lon: -122 },
				{ text: [ '256 colors only','Animation = millions of colors', 'So compress to grays only' ], lat: 21.3069, lon: -157.8583 },
				{ text: [ 'What cool new things can we do -', 'with our new Kool Aid?', 'Theo' ], lat: 22.3964, lon: 114.1095 }

			],

		abantech: [

				{ text: [ 'Hello team Abantech!', 'My new mantra:', 'Everything 3D!' ], lat: 0, lon: 0 },
				{ text: [ 'Even sending messages','by email' ], lat: 25.7617, lon: -80.1918 },
				{ text: [ 'Email has no 3D', 'But it supports', 'animated GIFs' ], lat: 37, lon: -122 },
				{ text: [ '256 colors only','Animation = millions of colors', 'So compress to grays only' ], lat: 21.3069, lon: -157.8583 },
				{ text: [ 'What cool new things can we do', 'with messages and 3D?', 'Theo' ], lat: 22.3964, lon: 114.1095 }

			],

		art_github_io: [

				{ text: [ 'Hello Sun lovers!', 'My new mantra:', 'Everything 3D!' ], lat: 0, lon: 0 },
				{ text: [ 'Even sending messages','by email' ], lat: 25.7617, lon: -80.1918 },
				{ text: [ 'Email has no 3D', 'But it supports', 'animated GIFs' ], lat: 37, lon: -122 },
				{ text: [ '256 colors only','Animation = millions of colors', 'So compress to grays only' ], lat: 21.3069, lon: -157.8583 },
				{ text: [ 'And it\'s all solar-powered', '- virtually', 'Theo' ], lat: 22.3964, lon: 114.1095 }

			]
	}



	THR.onWindowResize = function() {

		THR.camera.aspect = GIF.width / GIF.height;
		THR.camera.updateProjectionMatrix();

		THR.renderer.setSize( GIF.width, GIF.height );

		THR.stats.domElement.style.display = 'none';

	}



	var obj;

	THR.moreThreejsInits = function() {

		var geometry, material;


		THR.camera = new THREE.PerspectiveCamera( 40, GIF.width / GIF.height, 1, 40000 );
		THR.camera.position.set( 20000, 5000, 0 );

		THR.controls = new THREE.OrbitControls( THR.camera, THR.renderer.domElement );
		THR.controls.maxDistance = 30000;
//		THR.controls.autoRotate = true;

		THR.stats.domElement.style.display = 'none';

		THR.renderer.setClearColor( 0xffffff );
		THR.renderer.setSize( GIF.width, GIF.height );
		THR.renderer.domElement.style.cssText = 'margin-left: 30%; ';

		obj = new THREE.Object3D();

		THR.axisHelper = new THREE.AxisHelper( 9000 );
		obj.add( THR.axisHelper );

		ambientLight = new THREE.AmbientLight( 0xffffff );
		THR.scene.add( ambientLight );

		directionalLight = new THREE.DirectionalLight( 0x888888, 1 );
		directionalLight.position.set( 1, 1, 1.6 ); // points to US
		THR.scene.add( directionalLight );

		drawGlobe();

/*
		item = location.hash ? messages[ location.hash.slice( 1 ) ] : messages.test;

		for ( var i = 0; i < item.length; i++ ) {

			message = item[ i ];
			pt = PLA.convertPosition( message.lat, message.lon, 9000  );
			placard = PLA.drawPlacard( message.text, 15 , 60, pt.x, pt.y, pt.z ) 
			obj.add( placard );

		} 
*/

		THR.scene.add( obj );

//		derek();
//		aceit();
		jaanga();

	};


	var placards;

	init();

//	THR.animate();

	GIF.animate();

	function init() {

		COR.taglineHeader += 'Three.js Howdy! &rarr;' + b;

		COR.initLeftMenu();

		COR.menu.innerHTML =

			COR.getMenuDetailsHeader() +

			GIF.getMenuDetailsCreateAnimatedGIF() +

			COR.getMenuDetailsAbout() +

			COR.getMenuFooter() +

		b;


		GIFdetailsCreateAnimatedGIF.setAttribute('open', 'open');

		if ( window.self !== window.top ) { hamburger.style.left = '0px'; }

		window.addEventListener( 'keyup', THR.onKeyUp, false );

		THR.getThreeJS();

		THR.renderer.domElement.addEventListener( 'onload', THR.moreThreejsInits(), false );

	}


	function draw3DMessage( text = 'Hello, World!', strokeColor = 60, fillColor = 200, radius = 8000, left = 3, top = 0.8 ) {

		THR.scene.remove( placards );

		placards = new THREE.Object3D();

		texture = PLA.canvasMultilineTextRounded( text, { strokeColor: strokeColor, fillColor: fillColor } );
		heightmap = texture;

		geometry = new THREE.SphereGeometry( radius, Math.floor( 0.5 * texture.image.width ), 128, left, texture.image.width / 1000, top, 0.2 );

// TorusGeometry( radius, tube, radialSegments, tubularSegments, arc )
//		geometry = new THREE.TorusGeometry( 200, 50, 12, 100, 2 );


		material = new THREE.MeshPhongMaterial( {

			color: 0xffffff,
			map: texture,
			opacity: 0.85,
			displacementMap: texture,
			displacementScale: 500,
			side: 2,
			transparent: true

		} );

		message = new THREE.Mesh( geometry, material );
//		message.position.set( 50, 40, 0 );

		obj.add( message );

//		THR.scene.add( placards );

	}

</script>
</body>
</html>
